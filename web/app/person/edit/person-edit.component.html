<form class="person-edit"
      *ngIf="person"
      [formGroup]="form"
      novalidate
      (ngSubmit)="save(form.value, form.valid)"
      [fxLayout]="row">
    <fieldset fxFlex.sm="50">
        <legend>Personal</legend>
        <div>
            <md-input-container fxFlex>
                <input mdInput fxFlex type="text" formControlName="firstName" placeholder="Firstname" i18n-placeholder="Firstname">
            </md-input-container>
            <small [hidden]="form.controls.firstName.valid || (form.controls.firstName.pristine && !submitted)">
                Name is required (minimum 5 characters).
            </small>
        </div>
        <div>
            <md-input-container>
                <input mdInput fxFlex type="text" formControlName="middleName" placeholder="Middle Name" i18n-placeholder="Middle Name">
            </md-input-container>
        </div>
        <div>
            <md-input-container>
                <input mdInput fxFlex type="text" formControlName="lastName" placeholder="Surname" i18n-placeholder="Surname">
            </md-input-container>
            <small [hidden]="form.controls.lastName.valid || (form.controls.lastName.pristine && !submitted)">
                Lastname is required (minimum 5 characters).
            </small>
        </div>
        <div class="mat-input-wrapper">
            <md-radio-group formControlName="gender" fxFlex>
                <md-radio-button value="f" i18n>Female</md-radio-button>
                <md-radio-button value="m" i18n>Male</md-radio-button>
            </md-radio-group>
        </div>
        <div>
            <md-input-container>
                <input mdInput fxFlex type="email" formControlName="email" placeholder="Email" i18n-placeholder="Email">
            </md-input-container>
            <small [hidden]="form.controls.email.valid || (form.controls.email.pristine && !submitted)">
                Email is required (minimum 5 characters).
            </small>
        </div>
        <div class="mat-input-wrapper">
            <md-select name="maritalStatus" formControlName="maritalStatus" placeholder="Marital Status" i18n-placeholder="Marital Status">
                <md-option *ngFor="let status of mStatus" [value]="status.value">
                    {{status.viewValue}}
                </md-option>
            </md-select>
        </div>
        <div>
            <md-input-container>
                <input mdInput fxFlex type="date" formControlName="birthday" placeholder="Birthday" i18n-placeholder="Birthday">
            </md-input-container>
            <small [hidden]="form.controls.birthday.valid || (form.controls.birthday.pristine && !submitted)">
                Birthday is required.
            </small>
        </div>
    </fieldset>
    <div fxFlex.sm="50" fxFlexOffset="20px" >
        <fieldset formGroupName="user">
            <!--<div>
                <md-input-container>
                    <md-chip-list>
                        <md-chip *ngFor="let person of people"
                                 [color]="color" [selectable]="selectable"
                                 [removable]="removable" (remove)="remove(person)">
                            {{person.name}}
                            <md-icon mdChipRemove>cancel</md-icon>
                        </md-chip>
                        <input mdInput placeholder="New Contributor..."
                               mdChipInput (chipAdded)="add($event)"
                               [separatorKeys]="separatorKeys" [addOnBlur]="addOnBlur" />
                    </md-chip-list>
                </md-input-container>
            </div>-->
            <legend>Account</legend>
            <div>
                <md-input-container>
                    <input mdInput formControlName="username" placeholder="Username" i18n-placeholder="Username">
                </md-input-container>
                <small [hidden]="form.controls.user.controls.username.valid || (form.controls.user.controls.username.pristine && !submitted)">
                    Username is required (minimum 5 characters).
                </small>
            </div>
            <div>
                <md-input-container>
                    <input mdInput type="password" formControlName="password" placeholder="Password" i18n-placeholder="Password">
                </md-input-container>
                <small [hidden]="form.controls.user.controls.username.valid || (form.controls.user.controls.username.pristine && !submitted)">
                    Password is required (minimum 5 characters).
                </small>
            </div>
        </fieldset>
        <div>
            <button md-raised-button type="button" (click)="openDlgAvatar()">Change avatar</button>
        </div>
    </div>
    <div>
        <button md-button type="submit" [disabled]="!form.valid">Submit</button>
    </div>
</form>