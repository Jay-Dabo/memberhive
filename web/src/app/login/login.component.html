<div class="login-container" fxLayout="row" fxLayoutAlign="center center">
    <div class="flex-item" fxFlexFill>
        <md-card class="login-content" >
            <md-progress-bar
                    mode="indeterminate"
                    color="accent"
                    *ngIf="loading$ | async"></md-progress-bar>
            <div class="flex-item logo">
                <img src="/assets/images/logo.png" alt=""/>
            </div>

            <md-card-title i18n>Sign In</md-card-title>
            <md-card-content>
                <mh-notifybox
                        *ngIf="(error$ | async) && !closeError"
                        [message]="error$ | async"
                        [type]="error">
                </mh-notifybox>

                <form
                      (ngSubmit)="submit()"
                      [formGroup]="form"
                      novalidate
                      fxLayout="column"
                      autocomplete="off">

                    <md-input-container fxFlex="100">
                        <input mdInput
                               required
                               placeholder="Username"
                               i18n-placeholder
                               autocorrect="off"
                               autocapitalize="off"
                               spellcheck="off"
                               formControlName="username"
                               [class.invalid]="form.controls.username?.errors && form.controls.username?.dirty"
                               (keyup)="onKey($event)"
                               (focus)="initForm()">
                    </md-input-container>

                    <md-input-container fxFlex="100">
                        <input mdInput
                               type="password"
                               placeholder="Password"
                               i18n-placeholder
                               autocomplete="off"
                               autocorrect="off"
                               autocapitalize="off"
                               spellcheck="off"
                               formControlName="password"
                               [class.invalid]="form.controls.password?.errors && form.controls.password?.dirty"
                               (keyup)="onKey($event)">
                    </md-input-container>

                    <div class="flex-item">
                        <button md-raised-button color="primary" [disabled]="form.invalid" type="submit" i18n>Login</button>
                    </div>

                </form>
            </md-card-content>
        </md-card>
    </div>
</div>
