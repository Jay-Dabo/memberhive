<div class="flex-container" fxLayout='column' fxLayoutAlign="start space-around">
    <div fxHide.gt-xs fxLayoutAlign="center center" fxLayout="row" class="mobile-avatar">
        <a md-button (click)="prevPerson()"><md-icon>chevron_left</md-icon><span>Prev</span></a>
        <img md-card-avatar src="{{person?.avatar}}" alt="Avatar: {{person?.firstName}}" fxHide.gt-sm fxShow.xs>
        <a md-button (click)="nextPerson()"><span i18n>Next</span><md-icon>chevron_right</md-icon></a>
    </div>
    <md-card class="person-card">
        <md-card-header class="person-card-header">
            <a (click)="openDlgAvatar()" class="avatar-container" fxHide.xs>
                <span class="change-overlay" i18n>Change</span>
                <img md-card-avatar src="{{person?.avatar}}" alt="Avatar: {{person?.firstName}}">
            </a>
            <md-card-title-group>
                <md-card-title>
                    <md-chip-list>
                        <md-chip>Mitglied</md-chip>
                        <md-chip>Begrüßungsdienst</md-chip>
                    </md-chip-list>
                </md-card-title>
                <md-card-subtitle fxLayout.gt-sm="row" fxLayout.xs="column">
                    <div><md-icon>cake</md-icon>{{person?.birthday | date: 'longDate'}}</div>
                    <div><md-icon>email</md-icon><a href="mailto:{{person?.email}}">{{person?.email}}</a></div>
                    <div *ngIf="person?.phoneHome"><md-icon>phone</md-icon><a href="tel:{{person.phoneHome}}">{{person.phoneHome}}</a></div>
                    <div *ngIf="person?.phoneMobile"><md-icon>phonelink_ring</md-icon><a href="tel:{{person.phoneMobile}}">{{person.phoneMobile}}</a></div>
                    <div *ngIf="person?.maritalStatus"><md-icon>favorite</md-icon>{{person?.maritalStatus}}</div>
                </md-card-subtitle>
                <md-card-subtitle>
                    <md-icon>loyalty</md-icon> <a href="#">Thomas Hochstetter</a> (mentor), <a href="#">Marco Bartholomä</a> (friend)
                </md-card-subtitle>
            </md-card-title-group>
        </md-card-header>
        <md-card-actions>
            <button md-button (click)="prevPerson()" fxHide.xs><md-icon>chevron_left</md-icon><span i18n>Prev</span></button>
            <button md-button (click)="nextPerson()" fxHide.xs><span i18n>Next</span><md-icon>chevron_right</md-icon></button>
            <button md-raised-button (click)="createInteraction()" color="accent">
                <md-icon>forum</md-icon> <span fxHide.xs i18n>Interactions</span></button>
            <button md-raised-button (click)="openDlgRelationships()" color="accent">
                <md-icon>loyalty</md-icon> <span fxHide.xs i18n>Relationships</span></button>
            <button md-raised-button (click)="openDlgAvatar()" color="accent">
                <md-icon>camera</md-icon> <span fxHide.xs i18n>Avatar</span></button>
        </md-card-actions>
        <md-card-content>
            <md-tab-group>
                <md-tab label="Interactions">
                    <mh-interaction-list [(interactions)]="interactions"></mh-interaction-list>
                </md-tab>
                <md-tab label="Edit">
                   <mh-person-form
                           [person]="person"
                           [settings]="settings$ | async"
                           (savePerson)="savePerson($event)"></mh-person-form>
                </md-tab>
                <md-tab label="Family" i18n-label>

                </md-tab>
                <md-tab label="Groups" i18n-label>

                </md-tab>
                <md-tab label="Logs" i18n-label>
                    <mh-audit-log [person]="person"></mh-audit-log>
                </md-tab>
            </md-tab-group>
        </md-card-content>
    </md-card>
</div>
